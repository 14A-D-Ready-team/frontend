<ion-content>
  <div class="container">
    <div class="logo-container">
      <img class="logo" src="/assets/icon/Logo.png" alt="ready logo" />
    </div>
    <div class="card">
      <h1>Admin Regisztráció</h1>

      <form
        action=""
        class="register-form"
        [formGroup]="adminSignupForm"
        ngxsForm="adminSignup.signupForm"
        (ngSubmit)="signup()"
      >
        <div
          class="input-container"
          [ngClass]="[adminSignupForm.get('name')?.errors && adminSignupForm.get('name')?.value ? 'input-error-outline' : 'input-regular-outline',
          (adminSignupStatus | async)?.loading ? 'input-disabled-container' : '']"
        >
          <svg
            class="input-icon"
            viewBox="0 0 24 24"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M12 12.75C8.83 12.75 6.25 10.17 6.25 7C6.25 3.83 8.83 1.25 12 1.25C15.17 1.25 17.75 3.83 17.75 7C17.75 10.17 15.17 12.75 12 12.75ZM12 2.75C9.66 2.75 7.75 4.66 7.75 7C7.75 9.34 9.66 11.25 12 11.25C14.34 11.25 16.25 9.34 16.25 7C16.25 4.66 14.34 2.75 12 2.75Z"
              fill="#292D32"
            />
            <path
              d="M20.5901 22.75C20.1801 22.75 19.8401 22.41 19.8401 22C19.8401 18.55 16.3202 15.75 12.0002 15.75C7.68015 15.75 4.16016 18.55 4.16016 22C4.16016 22.41 3.82016 22.75 3.41016 22.75C3.00016 22.75 2.66016 22.41 2.66016 22C2.66016 17.73 6.85015 14.25 12.0002 14.25C17.1502 14.25 21.3401 17.73 21.3401 22C21.3401 22.41 21.0001 22.75 20.5901 22.75Z"
              fill="#292D32"
            />
          </svg>
          <input
            class="input-signup"
            type="text"
            name="name"
            formControlName="name"
            id="name"
            placeholder="Felhasználónév"
          />

          <div
            class="error-container"
            [ngClass]="adminSignupForm.get('name')?.errors && adminSignupForm.get('name')?.value ? 'input-error-outline' : 'input-regular-outline'"
          >
            <p
              *ngFor="let item of adminSignupForm.get('name')?.errors | keyvalue"
            >
              {{item.value}}
            </p>
          </div>
        </div>

        <div
          class="input-container"
          [ngClass]="[adminSignupForm.get('email')?.errors && adminSignupForm.get('email')?.value ? 'input-error-outline' : 'input-regular-outline',
          (adminSignupStatus | async)?.loading ? 'input-disabled-container' : '']"
        >
          <svg
            class="input-icon"
            viewBox="0 0 24 24"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M17 21.25H7C3.35 21.25 1.25 19.15 1.25 15.5V8.5C1.25 4.85 3.35 2.75 7 2.75H17C20.65 2.75 22.75 4.85 22.75 8.5V15.5C22.75 19.15 20.65 21.25 17 21.25ZM7 4.25C4.14 4.25 2.75 5.64 2.75 8.5V15.5C2.75 18.36 4.14 19.75 7 19.75H17C19.86 19.75 21.25 18.36 21.25 15.5V8.5C21.25 5.64 19.86 4.25 17 4.25H7Z"
              fill="#292D32"
            />
            <path
              d="M11.9988 12.87C11.1588 12.87 10.3088 12.61 9.6588 12.08L6.5288 9.57997C6.2088 9.31997 6.14881 8.84997 6.4088 8.52997C6.66881 8.20997 7.13881 8.14997 7.45881 8.40997L10.5888 10.91C11.3488 11.52 12.6388 11.52 13.3988 10.91L16.5288 8.40997C16.8488 8.14997 17.3288 8.19997 17.5788 8.52997C17.8388 8.84997 17.7888 9.32997 17.4588 9.57997L14.3288 12.08C13.6888 12.61 12.8388 12.87 11.9988 12.87Z"
              fill="#292D32"
            />
          </svg>
          <input
            class="input-signup"
            type="email"
            name="email"
            formControlName="email"
            id="email"
            placeholder="Email"
          />
          <div
            class="error-container"
            [ngClass]="adminSignupForm.get('email')?.errors && adminSignupForm.get('email')?.value ? 'input-error-outline' : 'input-regular-outline'"
          >
            <p
              *ngFor="let item of adminSignupForm.get('email')?.errors | keyvalue"
            >
              {{item.value}}
            </p>
          </div>
        </div>
        <div class="pswd-container">
          <div
            class="input-container"
            [ngClass]="[adminSignupForm.get('password')?.errors && adminSignupForm.get('password')?.value ? 'input-error-outline' : 'input-regular-outline',
            (adminSignupStatus | async)?.loading ? 'input-disabled-container' : '']"
          >
            <svg
              class="input-icon"
              viewBox="0 0 24 24"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M6.17916 22.7499C6.07916 22.7499 5.96916 22.7399 5.87916 22.7299L3.70916 22.4299C2.66916 22.2899 1.72916 21.3599 1.56916 20.2999L1.26916 18.1099C1.16916 17.4099 1.46916 16.4999 1.96916 15.9899L6.35916 11.5999C5.64916 8.75992 6.46916 5.75992 8.55916 3.68992C11.7992 0.459923 17.0692 0.449923 20.3192 3.68992C21.8892 5.25992 22.7492 7.34992 22.7492 9.56992C22.7492 11.7899 21.8892 13.8799 20.3192 15.4499C18.2192 17.5299 15.2292 18.3499 12.4092 17.6299L8.00916 22.0199C7.58916 22.4599 6.83916 22.7499 6.17916 22.7499ZM14.4292 2.75992C12.6792 2.75992 10.9392 3.41992 9.60916 4.74992C7.80916 6.53992 7.15916 9.15992 7.90916 11.5999C7.98916 11.8699 7.91916 12.1499 7.71916 12.3499L3.01916 17.0499C2.84916 17.2199 2.70916 17.6599 2.73916 17.8899L3.03916 20.0799C3.09916 20.4599 3.50916 20.8899 3.88916 20.9399L6.06916 21.2399C6.30916 21.2799 6.74916 21.1399 6.91916 20.9699L11.6392 16.2599C11.8392 16.0599 12.1292 15.9999 12.3892 16.0799C14.7992 16.8399 17.4292 16.1899 19.2292 14.3899C20.5092 13.1099 21.2192 11.3899 21.2192 9.56992C21.2192 7.73992 20.5092 6.02992 19.2292 4.74992C17.9292 3.42992 16.1792 2.75992 14.4292 2.75992Z"
                fill="#292D32"
              />
              <path
                d="M9.19008 20.5399C9.00008 20.5399 8.81008 20.4699 8.66008 20.3199L6.36008 18.0199C6.07008 17.7299 6.07008 17.2499 6.36008 16.9599C6.65008 16.6699 7.13008 16.6699 7.42008 16.9599L9.72008 19.2599C10.0101 19.5499 10.0101 20.0299 9.72008 20.3199C9.57008 20.4699 9.38008 20.5399 9.19008 20.5399Z"
                fill="#292D32"
              />
              <path
                d="M14.5 11.75C13.26 11.75 12.25 10.74 12.25 9.5C12.25 8.26 13.26 7.25 14.5 7.25C15.74 7.25 16.75 8.26 16.75 9.5C16.75 10.74 15.74 11.75 14.5 11.75ZM14.5 8.75C14.09 8.75 13.75 9.09 13.75 9.5C13.75 9.91 14.09 10.25 14.5 10.25C14.91 10.25 15.25 9.91 15.25 9.5C15.25 9.09 14.91 8.75 14.5 8.75Z"
                fill="#292D32"
              />
            </svg>
            <input
              class="input-signup"
              type="password"
              name="password"
              formControlName="password"
              id="pswd"
              placeholder="Jelszó"
            />
            <div
              class="error-container"
              [ngClass]="adminSignupForm.get('password')?.errors && adminSignupForm.get('password')?.value ? 'input-error-outline' : 'input-regular-outline'"
            >
              <p
                *ngFor="let item of adminSignupForm.get('password')?.errors | keyvalue"
              >
                {{item.value}}
              </p>
            </div>
          </div>
        </div>

        <div class="user-type">
          <p>Felhasználó típusa:</p>
          <ion-list>
            <ion-item lines="none">
              <ion-select
                interface="popover"
                placeholder="Felhasználó típus"
                formControlName="type"
              >
                <ion-select-option [value]="1">Büfé dolgozó</ion-select-option>
                <ion-select-option [value]="2"
                  >Büfé tulajdonos</ion-select-option
                >
                <ion-select-option [value]="3">Ready! Admin</ion-select-option>
              </ion-select>
            </ion-item>
          </ion-list>
        </div>

        <div
          class="input-container input-regular-outline input-invite"
          [ngClass]="adminSignupForm.get('type')?.value === 1 ? 'invite-show' : 'invite-hide'"
        >
          <svg
            class="input-icon"
            viewBox="0 0 24 24"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M6.17916 22.7499C6.07916 22.7499 5.96916 22.7399 5.87916 22.7299L3.70916 22.4299C2.66916 22.2899 1.72916 21.3599 1.56916 20.2999L1.26916 18.1099C1.16916 17.4099 1.46916 16.4999 1.96916 15.9899L6.35916 11.5999C5.64916 8.75992 6.46916 5.75992 8.55916 3.68992C11.7992 0.459923 17.0692 0.449923 20.3192 3.68992C21.8892 5.25992 22.7492 7.34992 22.7492 9.56992C22.7492 11.7899 21.8892 13.8799 20.3192 15.4499C18.2192 17.5299 15.2292 18.3499 12.4092 17.6299L8.00916 22.0199C7.58916 22.4599 6.83916 22.7499 6.17916 22.7499ZM14.4292 2.75992C12.6792 2.75992 10.9392 3.41992 9.60916 4.74992C7.80916 6.53992 7.15916 9.15992 7.90916 11.5999C7.98916 11.8699 7.91916 12.1499 7.71916 12.3499L3.01916 17.0499C2.84916 17.2199 2.70916 17.6599 2.73916 17.8899L3.03916 20.0799C3.09916 20.4599 3.50916 20.8899 3.88916 20.9399L6.06916 21.2399C6.30916 21.2799 6.74916 21.1399 6.91916 20.9699L11.6392 16.2599C11.8392 16.0599 12.1292 15.9999 12.3892 16.0799C14.7992 16.8399 17.4292 16.1899 19.2292 14.3899C20.5092 13.1099 21.2192 11.3899 21.2192 9.56992C21.2192 7.73992 20.5092 6.02992 19.2292 4.74992C17.9292 3.42992 16.1792 2.75992 14.4292 2.75992Z"
              fill="#292D32"
            />
            <path
              d="M9.19008 20.5399C9.00008 20.5399 8.81008 20.4699 8.66008 20.3199L6.36008 18.0199C6.07008 17.7299 6.07008 17.2499 6.36008 16.9599C6.65008 16.6699 7.13008 16.6699 7.42008 16.9599L9.72008 19.2599C10.0101 19.5499 10.0101 20.0299 9.72008 20.3199C9.57008 20.4699 9.38008 20.5399 9.19008 20.5399Z"
              fill="#292D32"
            />
            <path
              d="M14.5 11.75C13.26 11.75 12.25 10.74 12.25 9.5C12.25 8.26 13.26 7.25 14.5 7.25C15.74 7.25 16.75 8.26 16.75 9.5C16.75 10.74 15.74 11.75 14.5 11.75ZM14.5 8.75C14.09 8.75 13.75 9.09 13.75 9.5C13.75 9.91 14.09 10.25 14.5 10.25C14.91 10.25 15.25 9.91 15.25 9.5C15.25 9.09 14.91 8.75 14.5 8.75Z"
              fill="#292D32"
            />
          </svg>
          <input
            class="input-signup"
            type="text"
            name="invite-code"
            id="invite-code"
            placeholder="Meghívó kód"
            formControlName="inviteToken"
          />
        </div>

        <app-admin-validation-message
          [errorMessage]="(adminSignupStatus | async)?.error | errorMessage"
          *ngIf="(adminSignupStatus | async)?.error"
        ></app-admin-validation-message>
        <ion-spinner *ngIf="loading === true"></ion-spinner>

        <button
          class="ready-btn"
          type="submit"
          [disabled]="adminSignupForm.get('name')?.errors || adminSignupForm.get('password')?.errors || adminSignupForm.get('email')?.errors"
        >
          Regisztráció
        </button>
      </form>

      <div class="sign-up-container">
        <p class="sign-up-text">Van már fiókja?</p>
        <a class="sign-up-link" routerLink="/login">Bejelentkezés</a>
      </div>
    </div>
  </div>
</ion-content>
